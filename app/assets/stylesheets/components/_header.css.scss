$header-background: $passive-color;
$header-line-height: $button-height;

.header {
  @include pie-clearfix;
  padding: $default-unit 0;

  // Fix for choppy fixed positioning after a CSS transition has
  // happened in Chrome :/
  // http://stackoverflow.com/questions/20268962/fixed-attachment-background-image-flicker-disappear-in-chrome-when-coupled-with
  -webkit-transform: translate3d(0,0,0);

  @include media-query($header-breakpoint) {
    padding: $xxx-small-unit 0;
  }

  &.header__primary {
    background: $header-background;

    @include media-query($header-breakpoint) {
      background: $secondary-color;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 99;
    }
  }

  .attached-navigation &.header__primary {
    @include media-query($header-breakpoint, min) {
      padding-bottom: $default-unit + ($navigation-height / 2);
    }
  }
}

.header--menu {
  @include grunticon("menu-white", 24px);
  @include icon-block(44px, 24px);
  overflow: visible;
  float: right;
  background: $default-color;
  background: rgba($default-color, .2);
  @include border-radius($border-radius);

  @include media-query($header-breakpoint,min) {
    display: none;
  }
}

.header--logo {
  float: left;
  @include heading-four;
  line-height: $header-line-height;
  @include color-link($foreground-color, $foreground-color);
  @include decorate-link(none, none);

  @include media-query($header-breakpoint) {
    @include heading-five;
    line-height: $header-line-height;
    @include color-link($white, $white);
  }
}

.header--aside {
  float: right;

  ul {
    line-height: $header-line-height;
  }

  ul a {
    @include color-link($foreground-color, $foreground-color);
  }

  ul, form {
    float: left;
  }

  form {
    margin-left: $x-small-unit;
  }

  @include media-query($header-breakpoint) {
    display: none;
  }
}

// Sticky Header
.sticky-header {

  .csspositionsticky &.sticky-header__stuck {
    position: -webkit-sticky;
    position: -moz-sticky;
    position: -ms-sticky;
    position: -o-sticky;
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
  }

  &.sticky-header__fixed {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 10;
    height: auto;
  }
}